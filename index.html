<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Get Group ID</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  </head>

  <body>
    <h2>グループIDを取得中...</h2>
    <div id="result"></div>

    <script>
      // ★ あなたの LIFF ID を設定
      const LIFF_ID = "2008514849-x51Z9bBA";

      async function main() {
        await liff.init({ liffId: LIFF_ID });

        const ctx = liff.getContext();
        console.log(ctx);

        if (ctx.type !== "group") {
          document.getElementById("result").innerHTML =
            "⚠️ グループトークから開いてください。<br>現在のコンテキスト：" + ctx.type;
          return;
        }

        const groupId = ctx.groupId;
        document.getElementById("result").innerHTML =
          "✅ <b>Group ID:</b><br>" + groupId;
      }

      main();
    </script>
  </body>
</html>
